# [Choice] .NET Core version: 3.1, 2.1
ARG VARIANT=3.1
FROM mcr.microsoft.com/devcontainers/dotnet:0-3.1

COPY library-scripts/azcli-debian.sh /tmp/library-scripts/
RUN bash /tmp/library-scripts/azcli-debian.sh \
    && curl -Lo /usr/local/bin/bicep https://github.com/Azure/bicep/releases/latest/download/bicep-linux-x64 \
    && chmod +x /usr/local/bin/bicep \
    && apt-get clean -y && rm -rf /var/lib/apt/lists/* /tmp/library-scripts

# [Optional] Uncomment this section to install additional OS packages.
RUN apt-get update && export DEBIAN_FRONTEND=noninteractive \
    && apt-get -y install --no-install-recommends \
    adduser \
apt-transport-https \
apt-utils \
apt \
azure-cli \
base-files \
base-passwd \
bash \
binutils-common \
binutils-x86-64-linux-gnu \
binutils \
brz \
bsdmainutils \
bsdutils \
build-essential \
bzip2 \
bzr \
ca-certificates \
coreutils \
cpp-9 \
cpp \
curl \
dash \
debconf \
debianutils \
dialog \
diffutils \
dirmngr \
distro-info-data \
dpkg-dev \
dpkg \
e2fsprogs \
fdisk \
findutils \
g++-9 \
g++ \
gcc-10-base \
gcc-9-base \
gcc-9 \
gcc \
gettext-base \
gettext \
gh \
git-man \
git \
gnupg-l10n \
gnupg-utils \
gnupg2 \
gnupg \
gpg-agent \
gpg-wks-client \
gpg-wks-server \
gpg \
gpgconf \
gpgsm \
gpgv \
grep \
groff-base \
gzip \
hostname \
htop \
init-system-helpers \
iproute2 \
jq \
less \
libacl1 \
libapr1 \
libaprutil1 \
libapt-pkg6.0 \
libasan5 \
libasn1-8-heimdal \
libassuan0 \
libatomic1 \
libattr1 \
libaudit-common \
libaudit1 \
libbinutils \
libblkid1 \
libbrotli1 \
libbsd0 \
libbz2-1.0 \
libc-bin \
libc-dev-bin \
libc6-dev \
libc6 \
libcap-ng0 \
libcap2-bin \
libcap2 \
libcbor0.6 \
libcc1-0 \
libcom-err2 \
libcroco3 \
libcrypt-dev \
libcrypt1 \
libctf-nobfd0 \
libctf0 \
libcurl3-gnutls \
libcurl4-openssl-dev \
libcurl4 \
libdb5.3 \
libdebconfclient0 \
libdpkg-perl \
libedit2 \
libelf1 \
liberror-perl \
libexpat1-dev \
libexpat1 \
libext2fs2 \
libfdisk1 \
libffi7 \
libfido2-1 \
libgcc-9-dev \
libgcc-s1 \
libgcc1 \
libgcrypt20 \
libgdbm-compat4 \
libgdbm6 \
libglib2.0-0 \
libgmp10 \
libgnutls30 \
libgomp1 \
libgpg-error0 \
libgssapi-krb5-2 \
libgssapi3-heimdal \
libhcrypto4-heimdal \
libheimbase1-heimdal \
libheimntlm0-heimdal \
libhogweed5 \
libhx509-5-heimdal \
libicu66 \
libidn2-0 \
libisl22 \
libitm1 \
libjq1 \
libk5crypto3 \
libkeyutils1 \
libkrb5-26-heimdal \
libkrb5-3 \
libkrb5support0 \
libksba8 \
libldap-2.4-2 \
libldap-common \
liblsan0 \
liblttng-ust-ctl4 \
liblttng-ust0 \
liblz4-1 \
liblzma5 \
libmnl0 \
libmount1 \
libmpc3 \
libmpdec2 \
libmpfr6 \
libncurses6 \
libncursesw6 \
libnettle7 \
libnghttp2-14 \
libnpth0 \
libnuma1 \
libonig5 \
libp11-kit0 \
libpam-modules-bin \
libpam-modules \
libpam-runtime \
libpam0g \
libpcre2-8-0 \
libpcre3 \
libperl5.30 \
libpipeline1 \
libpopt0 \
libprocps8 \
libpsl5 \
libpython2-stdlib \
libpython2.7-minimal \
libpython2.7-stdlib \
libpython3-dev \
libpython3-stdlib \
libpython3.8-dev \
libpython3.8-minimal \
libpython3.8-stdlib \
libpython3.8 \
libquadmath0 \
libreadline8 \
libroken18-heimdal \
librtmp1 \
libsasl2-2 \
libsasl2-modules-db \
libseccomp2 \
libselinux1 \
libsemanage-common \
libsemanage1 \
libsepol1 \
libserf-1-1 \
libsmartcols1 \
libsqlite3-0 \
libss2 \
libssh-4 \
libssl-dev \
libssl1.1 \
libstdc++-9-dev \
libstdc++6 \
libsvn1 \
libsystemd0 \
libtasn1-6 \
libtinfo6 \
libtsan0 \
libubsan1 \
libuchardet0 \
libudev1 \
libunistring2 \
libunwind8 \
liburcu6 \
libutf8proc2 \
libuuid1 \
libwind0-heimdal \
libxml2 \
libxtables12 \
libzstd1 \
linux-libc-dev \
locales \
login \
logsave \
lsb-base \
lsb-release \
lsof \
make \
man-db \
manpages-dev \
manpages \
mawk \
mercurial-common \
mercurial \
mime-support \
mount \
nano \
ncdu \
ncurses-base \
ncurses-bin \
net-tools \
netbase \
openssh-client \
openssl \
passwd \
patch \
perl-base \
perl-modules-5.30 \
perl \
pinentry-curses \
procps \
psmisc \
python-pip-whl \
python2-minimal \
python2.7-minimal \
python2.7 \
python2 \
python3-breezy \
python3-certifi \
python3-configobj \
python3-dev \
python3-distutils \
python3-dulwich \
python3-fastimport \
python3-lib2to3 \
python3-minimal \
python3-pip \
python3-pkg-resources \
python3-setuptools \
python3-six \
python3-urllib3 \
python3-wheel \
python3.8-dev \
python3.8-minimal \
python3.8 \
python3 \
readline-common \
rsync \
sed \
sensible-utils \
strace \
subversion \
sudo \
sysvinit-utils \
tar \
tree \
tzdata \
ubuntu-keyring \
ucf \
unzip \
util-linux \
vim-common \
vim-tiny \
wget \
xxd \
xz-utils \
yarn \
zip \
zlib1g-dev \
zlib1g \
zsh-common \
zsh \
&& sudo apt update -y \
&& pip install azureopenai \
&& pip install openai \
&& pip install azure-identity \
&& pip install azure-mgmt-cognitiveservices


